//сцена

//объекты
класс Живой = {
  взаимодействие:
  {
    //ну вот это не знаю пока не уверен, видеть и слышать, может по другому как-то?
    	{
     	 слова: ["видеть"];
	 {
    	  идентификатор_формы_предложения = 1;
     	  программа: построить красный луч между Объект1 и Объект2;
    	 }
	}
    	{
     	 слова: ["слышать"];
     	 {
	  идентификатор_формы_предложения = 1;
     	  программа: построить синий луч между Объект1 и Объект2;
    	 }
	}
    //
    
     {
      слова: ["грустить"];
      {
       идентификатор_формы_предложения = 2; 
       программа: Объект1.настроение = 40;// условно
      }
     }
     
     {
      слова: ["оберегать"];
      {
       идентификатор_формы_предложения = 1; 
       программа:   Объект.модикатор: если Объект1 убить Объект
       		  	       если Объект1 напасть Объект
       		  	       если Объект1 навредить Объект
       		  	       то отменить эффект
      }
     } 
    {
     слова: ["съесть"];
     {
      идентификатор_формы_предложения = 0; 
      программа: удалить(аргумент);
     }
     {
      идентификатор_формы_предложения = 1;  
      программа: удалить(аргумент);
     }
    }
    	!!! здесь надо что-то думать
     {
      слова: ["оберегать"];
      {
       идентификатор_формы_предложения = 1; 
       программа: (Объект1.расположение - Объект2.расположение) < 5) если нет то приблизить
       	   Объект2.защита = Объект1.имя
       	    //тут меняется состояние оюъекта и в последствии меянют действия в зависимости от состояния, переписывать все действия не вариант
       	   защищать от опасности, опасность? уменьщение здоровья, голод, смерть 
      }
     }
    {
     слова: ["встретить","подойти"];
     {
      идентификатор_формы_предложения = 1;
      программа: пока ((Объект2.х - Объект1.х) > 5) Объект1.х++; //это условно в сторону Объект2 
    		пока ((Объект2.у - Объект1.у) > 5) Объект1.у++;
     }
    }
    {
     слова: ["уйти","отойти"];
     {
      идентификатор_формы_предложения = 1;
      программа: пока ((Объект2.х - Объект1.х) < 5) Объект1.х++; //это условно в сторону от Объекта2 к ближайшему краю сцены 
    		пока ((Объект2.у - Объект1.у) < 5) Объект1.у++;
     }
    }
    {
     слова: ["идти"];
     {
      идентификатор_формы_предложения = 1;
      программа: вычисляем напраление к центру; 
     		Объект.х++; //это условно по направлению к центру
		Объект.у++;
     }
    }
    {
     слова: ["жить"];
     {
      идентификатор_формы_предложения = 1;
      программа: позиция Объект1 близко к Объект2
     }
    }
    
    {
     слова: ["ждать"];
     {
      идентификатор_формы_предложения = 2;
      программа: время++
     }
    }
      
    {
     слова: ["родить"];
     {
      идентификатор_формы_предложения = 1;
      программа: создать Объект2
      		  Объект2.родитель = Объект1.имя
     }
    }
    
    {
     слова: ["работать"];
     {
      идентификатор_формы_предложения = 1;
      программа: Объект1.силы--
      		  Объект2.очки++
      		  Объект1.очки++
     }
    }
    
    {
     слова: ["стащить"];
     {
      идентификатор_формы_предложения = 1;
      программа: Объект2 приблизить к Объект1
     }
    }    
    
    {
     слова: ["вылезти"];
     {
      идентификатор_формы_предложения = 2;
      программа: отдалить Объект1 от точки выполнения
     }
    }
    {
     слова: ["состариться"];
     {
      идентификатор_формы_предложения = 2;
      программа: пока (Объект1.возраст < Объект.возраст_макс * 2/3) Объект1.возраст++ ;   
     }
    }
    {
      слова: ["живой","здоровый"];
      {
        идентификатор_формы_предложения = 1;
	программа: Объект.здоровье: 100; 
      }
    }
    
    {
     	 слова: ["рассудить"];
	 {
    	  идентификатор_формы_предложения = 8;
     	  программа: (предложение) истина?
		     если да то |Объект: Да!
		     если нет то |Объект: Нет!
	 }
    }
  }
}

массив объектов = ["Волк","Охотники"];
Собака = {
  наследует_классы: ["Живой"];
  имя: "Собака";
  здоровье: 100;
  иконка: "Животное.png";
  
  взаимодействие: 
  {
     	 слова: ["брехать","гавкать","лаять"];
	 {
    	  идентификатор_формы_предложения = 2;
     	  программа: |Собака: ("гав-гав")!  
     	 }
  }
}

Хозяин = {
  наследует_классы: ["Живой"];
  имя: "Хозяин";
  здоровье: 100;
  хранит: ["плетка",Кобыла];
  иконка: "Человек.png";
   
}


Мужик = {
  наследует_классы: ["Живой"];
  имя: "Дед";
  здоровье: 100;
  хранит: ["мешок","цеп"];
  иконка: "Человек.png";
   
}
  
Волк = {
  наследует_классы: ["Живой"];
  имя: "Волк";
  здоровье: 100;
  хранит: ;
  иконка: "Животное.png";
}

Охотники = {
  наследует_классы: ["Живой"];
  имя: "Охотники";
  здоровье: 100;
  хранит: ["капкан","ружье"];
  иконка: "Толпа.png";
  
  взаимодействие:
  {
    {
     слова: ["следить"];
     {
      идентификатор_формы_предложения = 1;
      программа(Объект): если ((Объект2.х - Охотники.х) < 10) то пока ((Объект2.х - Охотники.х) < 10) Охотники.х++; //это условно там еще модуль надо учитывать 
    			если ((Объект2.у - Охотники.у) < 10) то пока ((Объект2.у - Охотники.у) < 10) Охотники.у++;
     }
    }
  }
  
}

//предметы
массив предметов = ["еда","капкан","мешок"];
"мешок"  = {
	принадлежит: ;
	хранит: ;
	видимость: 1;
	
	взаимодействие: 
      	 {
         	{
           	 слова: ["спрятать"];
		 {
      		  идентификатор_формы_предложения = 4;
           	  программа: если аргумент определен {
		 		аргумент.видимость = 0;
				"мешок".хранит += аргумент;
			    }
		 		
			    иначе "мешок".видимость = 0; 
		 }
		}
		
		{
           	 слова: ["вынуть","достать"];
           	 {
      		  идентификатор_формы_предложения = 4;
           	  программа: аргумент.видимость = 0;
			    "мешок".хранит -= аргумент;
		 }
		}
	 }
}

“капкан” = {
      принадлежит: "Охотники";
      режим_работы: 1;
      
      взаимодействие: 
      {
         {
	   слова: ["попасть","угодить"];
           {
	     идентификатор_формы_предложения = 0;
             программа:  //приближаем объект	
		       пока ((Объект.х - "капкан".х) < 5) Объект1.х++; //это условно там еще модуль надо учитывать 
    		       пока ((Объект.у - "капкан".у) < 5) Объект1.у++;
	   	       //взаимодействуем
		       если Объект.имя !== “капкан”.принадлежит {
	                                                         если (режим_работы == 1) то {
                                                   		 Объект.здоровье = 0;
				 	           		 "еда".состоит = Объект;
					           		 *удалить(Объект);
				 	           		 “капкан”.принадлежит += “еда”;
                           				        } 
                      }
           }
	  }
       }      
   "время" = {
   текущее: время сейчас.
   
      взаимодействие: 
      {
         {
	   слова: ["идти"];
           {
	     идентификатор_формы_предложения = 7;
   	     программа: отбразить время.текущее
	     		подождать
			отобразить время.текущее
	   }
	 }
       }
 }
 
 //абстракции
 		//как структурировать взаимоосвязи между абстракциями?
абстракции = {
		{
		 слова: ["добро"];
		 {
		  {
		    идентификатор_формы_предложения = 3;
		    {
		     слова: ["забыть"];
		     программа: фильтры.добро = есть
		     		время идти
				фильтры.добро = нет? // очень условно
		    }
		   }
		 }
		 
		 {
		 слова: ["милость"];
		 {
		  {
		    идентификатор_формы_предложения = 5;
		    {
		     слова: ["сделать"];
		     програма: выполнить предложенное действие
		     	       добавить в список фильтров его
		    }
		  }
	         }
	         
	         {
		 слова: ["прав"];
		 {
		  {
		    идентификатор_формы_предложения = 2;
		    {
		      программа: Объект = истина //было бы хорошо если бы ты придумал как свзяать это с оценкой суждений и действий
		    }
		  }
		 }
		 
фильтры = {						//получается ты будешь копировать для каждого, надо както по другому и с учетом типа характера объекта
	    {
	      имя: Волк
 	      {
	         {
		  слова: ["добро"];
		  список:  Объект вылечить Волк,
		 	   Объект кормить Волк.
	         }
		 {
		  слова: ["милость"];
		  список:  Объект вылечить Волк,
		 	   Объект кормить Волк.
	         }
	      }    
	    }
	    
	    {
	      имя: Кобыла
 	      {
	         {
		  слова: ["добро"];
		  список:  Объект вылечить Кобыла,
		 	   Объект кормить Кобыла.
			   Кобыла отдыхать
	         }
		 
		 {
		  слова: ["милость"];
		  список:  Объект вылечить Кобыла,
		 	   Объект кормить Кобыла.
			   Кобыла отдыхать
	         }
		 
	      }    
	    }	 
